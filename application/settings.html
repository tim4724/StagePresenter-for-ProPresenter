<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<link rel='stylesheet' href='css/settings.css'>
	<link rel='stylesheet' href='css/switch.css'>
	<link rel='stylesheet' href='css/radio.css'>

	<script src='js/utils.js'></script>

	<script src='js/settings/settings_connection.js'></script>
	<script src='js/settings/settings_application.js'></script>
	<script src='js/settings/settings_stagemonitor.js'></script>

	<title>StagePresenter Settings</title>
</head>

<body onload='connectionSettings = ConnectionSettings()
			  applicationSettings = ApplicationSettings()
			  stagemonitorSettings = StageMonitorSettings()'>
	<main>
		<h1 id='title'>StagePresenter Settings</h1>

		<section class='settingGroup'>
			<div class='settingGroupTitle'>Pro Presenter Connection</div>

			<div class='setting'>
				<label class='radioLabel'>
					<input id='demoMode' type='radio' name='demoMode'
						checked=true
						onchange='connectionSettings.selectModeDemo()'>
					<span class='radio'></span>
					Demo Mode (test without ProPresenter)
				</label>
				<label class='radioLabel'>
					<input id='localMode' type='radio' name='localMode'
						onchange='connectionSettings.selectModeLocal()'>
					<span class='radio'></span>
					Connect to ProPresenter instance on this computer
				</label>
				<label class='radioLabel'>
					<input id='remoteMode' type='radio' name='remoteMode'
						onchange='connectionSettings.selectModeRemote()'>
					<span class='radio'></span>
					Connect to ProPresenter instance on another computer
				</label>
			</div>

			<div class='setting'>
				IP-Address or Network Name
				<input id='ipAddress' type='text' value='localhost' disabled
						oninput='connectionSettings.onInputChanged()'>
				Port
				<input id='port' type='number' min='0' max='999999'
						oninput='connectionSettings.onInputChanged()'>
				<span id='proPresenterVersion'></span>
			</div>

			<div class='setting'>
				Remote Observer Password
				<input id='remoteAppPass' type='text'
						oninput='connectionSettings.onInputChanged()'>
				<span id='remoteAppConnectionResult'></span>
			</div>

			<div class='setting'>
				Stage App Password
				<input id='stageAppPass' type='text' name='remoteAppPass'
						oninput='connectionSettings.onInputChanged()'>
				<span id='stageAppConnectionResult'></span>
			</div>

			<button id='connectButton'
					onclick='connectionSettings.connect()'>
				Test Connection
			</button>

			<button id='resetButton' disabled
					onclick='connectionSettings.initInputsFromStorage()'>
				Reset
			</button>
		</section>

		<section class='settingGroup' id='electronAppSettings' style='display: none'>
			<div class='settingGroupTitle'>Application</div>
			<div class='setting'>
				Show Stagemonitor on display
				<select id='showOnDisplay' onchange='applicationSettings.onDisplaySelected(this)'>
					<option id='showOnDisplayNone' value='-1'> None </option>
			   </select>
			</div>

			<div class='setting'>
				<span class='settingText'>
					Open StagePresenter automatically at Login
				</span>
				<label class='switch right'>
					<input id='autoStart' type='checkbox'
						   onchange='applicationSettings.startAtLogin(this)'>
					<span class='slider'></span>
				</label>
			</div>
		</section>

		<div id='stagePresenterSettings'>
			<section class='settingGroup'>
				<div class='settingGroupTitle'>StagePresenter</div>

				<div id="stagemonitorSettingsContainer">
					<div id="stagemonitorSettings">

						<div class='setting' id="zoomSetting">
							<span class='settingText'>
								Window Zoom
							</span>
							<label class='right'>
								<input id='zoom' type='number' min='10' max='500'
										value="100"
										oninput='stagemonitorSettings.zoomChanged()'>
								%
							</label>
						</div>

						<div class="settingSpacer"></div>

						<div class='setting'>
							Clock, Timers, Playlist, Preview Position
							<select id='showSidebar' onchange='stagemonitorSettings.selectChanged(this)'>
								<option value=''>None</option>
								<option value='showSidebarLeft'>Left</option>
								<option value='showSidebarBottom'>Bottom</option>
						   </select>
						</div>

						<div class='setting'>
							<span class='settingText'>
								Show Playlist
							</span>
							<label class='switch right'>
								<input id='showPlaylist' type='checkbox'
									onchange='stagemonitorSettings.checkBoxChanged(this)'>
								<span class='slider'></span>
							</label>
						</div>

						<div class='setting'>
							<span class='settingText'>
								Show small Slide Preview
							</span>
							<label class='switch right'>
								<input id='showSmallSlidePreview' type='checkbox'
									onchange='stagemonitorSettings.checkBoxChanged(this)'>
								<span class='slider'></span>
							</label>
						</div>

						<div class='setting'>
							<span class='settingText'>
								Sidebar Maximum Size
							</span>
							<label class='right'>
								<input id='sidebarMaxSize' type='number' min='30' max='1000'
										value="150"
										oninput='stagemonitorSettings.inputChanged(this)'>
							</label>
						</div>

					</div>

					<!--<iframe src="stagemonitor.html" id="previewIframe">
					</iframe>-->
				</div>
			</section>

			<section class='settingGroup'>
				<div class='settingGroupTitle'>StagePresenter Advanced</div>

				<div class='setting'>
					<span class='settingText'>
						Auto-Remove Linebreaks
					</span>
					<label class='switch right'>
						<input id='flexibleSlides' type='checkbox'
							onchange='stagemonitorSettings.checkBoxChanged(this)'>
						<span class='slider'></span>
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Improve layout of Bible Presentations
					</span>
					<label class='switch right'>
						<input id='improveBiblePassages' type='checkbox'
							onchange='stagemonitorSettings.checkBoxChanged(this)'>
						<span class='slider'></span>
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Only include the first Textbox of each Slide
					</span>
					<label class='switch right'>
						<input id='onlyFirstTextInSlide' type='checkbox'
							onchange='stagemonitorSettings.checkBoxChanged(this)'>
						<span class='slider'></span>
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Align text left if more than
					<input id='alignLeftCharactersThreshold' type='number' min='10' max='1000'
							value="60"
							oninput='stagemonitorSettings.inputChanged(this)'>
					characters in a line.
					</span>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Minimum Video length to show timer
					</span>
					<label class='right'>
						<input id='minimumVideoLengthForTimer'
								type='time'
								min="00:00:00"
								max="01:00:00"
								step="1"
								value="00:01:00"
								oninput='stagemonitorSettings.minimumVideoLengthForTimerChanged()'>

					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Controller: Skip Playlist-Items that are not a presentation
					</span>
					<label class='switch right'>
						<input id='skipMediaPlaylistItems' type='checkbox'
							onchange='stagemonitorSettings.checkBoxChanged(this)'>
						<span class='slider'></span>
					</label>
				</div>
			</section>

			<section class='settingGroup'>
				<div class='settingGroupTitle'>StagePresenter Font-Sizes and Style</div>

				<div class='setting'>
					<span class='settingText'>
						Normal Presentation Font-Size
					</span>
					<label class='right'>
						<input id='presentationFontSize' type='number' min='1' max='1000'
							value="100" oninput='stagemonitorSettings.inputChanged(this)'>
						%
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Presentation with long textlines (e.g. bible passages) maximum Font-Size
					</span>
					<label class='right'>
						<input id='presentationLongTextFontSize' type='number' min='1' max='1000'
							value="100" oninput='stagemonitorSettings.inputChanged(this)'>
						%
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Timer and Clock Font-Size
					</span>
					<label class='right'>
						<input id='timerFontSize' type='number' min='1' max='1000'
							value="100" oninput='stagemonitorSettings.inputChanged(this)'>
						%
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Playlist Font-Size
					</span>
					<label class='right'>
						<input id='playlistFontSize' type='number' min='1' max='1000'
							value="100" oninput='stagemonitorSettings.inputChanged(this)'>
						%
					</label>
				</div>

				<div class='setting'>
					<span class='settingText'>
						Custom CSS
					</span>

					<textarea id="customCSS" class="right" name="customCSS" rows="6" cols="60"
						placeholder="/*For advanced layout customizing. E.g.*/
	.group {
		border-radius: 8px;
	}
	.groupName { color: #6b63e0; }
	.bibleVerseNumber { color: #6b63e0; }
	#clock {
		background: #ffffff;
		color: #000000;
	}"
						onchange='stagemonitorSettings.inputChanged(this)'></textarea>
				</div>
			</section>
		</div>

		<button id='doneButton' onclick='window.close()'>
			Done
		</button>
	</main>
</body>
</html>
